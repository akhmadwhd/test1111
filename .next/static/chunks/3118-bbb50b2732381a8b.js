"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3118],{3118:function(e,s,t){t.r(s),t.d(s,{default:function(){return A}});var a=t(7437),i=t(2265),l=t(6691),r=t.n(l),c=t(1737),n=t.n(c),d=t(4759);let o=async e=>{let s=await (0,d.J7)("/discussion-suggests",e);return s},m=async e=>{let s=await (0,d.eO)("/discussion-suggests"+e);return s},x=async e=>{let s=await o(e);return!!s.success||s},u=async e=>{let s=await m(null!=e?e:"");return s.success?{status:!0,data:s.data}:{status:!1,message:s.message}};var h=t(1865),p=t(9701),g=t(5691);let j=g.Ry({topic:g.Z_().required("Full Name is required"),abstract:g.Z_().required("Full Name is required")}).required();var b=e=>{let{setActive:s}=e,[t,l]=(0,i.useState)({type:"",message:"",show:!1}),{register:r,handleSubmit:c,setValue:d,formState:{errors:o}}=(0,h.cI)({resolver:(0,p.X)(j)}),m=async e=>{let s=await x(e);!0===s?l({type:"success",message:"Berhasil menambah diskusi",show:!0}):l({type:"error",message:s.message,show:!0}),setTimeout(()=>{l({type:"",message:"",show:!1})},4e3)};return(0,a.jsxs)("div",{className:"w-[85%] mx-auto",children:[(0,a.jsxs)("div",{className:"pb-5 flex items-center justify-between text-white",children:[(0,a.jsx)("div",{className:"font-normal text-base cursor-pointer hover:underline ".concat(n().className),style:{fontStyle:"italic"},onClick:()=>{s("daftar")},children:"daftar usulan topik"}),(0,a.jsx)("div",{className:"font-semibold text-[30px] leading-[33px] text-white",children:"USULKAN TOPIK DISKUSI"})]}),(0,a.jsxs)("form",{action:"",className:"space-y-3",onSubmit:c(m),children:[t.show&&(0,a.jsx)("div",{className:"alert ".concat("success"===t.type?"alert-success":"alert-error"),children:(0,a.jsx)("small",{className:"text-black italic",children:(0,a.jsx)("strong",{children:t.message})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"",className:"font-semibold text-[20px] leading-[24px] py-1 ".concat(n().className," text-white"),children:"Topik Diskusi"}),(0,a.jsx)("input",{type:"text",className:"w-full rounded-sm px-2 py-1 focus:outline-none bg-white text-primary",...r("topic")})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"",className:"font-semibold text-[20px] leading-[24px] py-1 ".concat(n().className," text-white"),children:"Abstract Singkat"}),(0,a.jsx)("textarea",{id:"",className:"w-full rounded-sm px-2 py-1 focus:outline-none focus:shadow-sm bg-white text-primary",rows:"5",...r("abstract")})]}),(0,a.jsx)("div",{className:"w-full text-center",children:(0,a.jsx)("button",{type:"submit",className:"btn btn-sm py-1 px-5 rounded-full hover:opacity-80 bg-white text-primary",children:"Kirim"})})]})]})},N=t(9436),f=t(7768),y=t.n(f),w=e=>{let{setActive:s}=e,[t,l]=(0,i.useState)(),[r,c]=(0,i.useState)(1),[n,d]=(0,i.useState)(null),o=e=>{let s=e.target.value;n&&clearTimeout(n);let t=setTimeout(()=>{m("?keyword="+s)},500);d(t)},m=async e=>{let s=await u(e);s.status?l(s.data):l(null)};return(0,i.useEffect)(()=>{m("")},[]),(0,i.useEffect)(()=>()=>{n&&clearTimeout(n)},[n]),(0,a.jsxs)("div",{className:"w-[85%] mx-auto",children:[(0,a.jsx)("p",{className:"font-normal text-start cursor-pointer hover:underline text-white ".concat(y().className),onClick:()=>{s("add")},children:"Kembali"}),(0,a.jsxs)("div",{className:"space-y-5",children:[(0,a.jsx)("div",{className:"font-semibold text-[30px] leading-[33px] text-white text-center pb-3",children:"DAFTAR USULAN TOPIK"}),(0,a.jsxs)("div",{className:"relative flex items-center",children:[(0,a.jsx)("div",{className:"absolute left-3",children:(0,a.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"cursor-pointer",children:[(0,a.jsx)("circle",{cx:"9.99996",cy:"9.99996",r:"8.49996",className:"stroke-primary",strokeWidth:"3"}),(0,a.jsx)("path",{d:"M16 16L26.0002 26.4656",className:"stroke-primary",strokeWidth:"3",strokeLinecap:"round"})]})}),(0,a.jsx)("input",{type:"text",className:"w-full focus:outline-none border-2 border-[rgba(255,255,255,0.8)] bg-[#B4BBC0] bg-opacity-90 rounded-full italic placeholder:text-primary pr-5 pl-10 py-2 text-primary",placeholder:"topik yang sudah diusulkan",onChange:e=>{o(e)}})]}),(0,a.jsxs)("div",{className:"bg-white rounded-md p-2 text-primary",children:[(0,a.jsxs)("table",{className:"table",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"NO"}),(0,a.jsx)("th",{children:"TOPIK"}),(0,a.jsx)("th",{children:"PROGRESS"})]})}),(0,a.jsx)("tbody",{children:(null==t?void 0:t.data)&&(null==t?void 0:t.data.map((e,s)=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:s+1}),(0,a.jsx)("td",{children:e.topic}),(0,a.jsxs)("td",{children:["Not Processed"===e.status&&"Belum Diperoses","Processing"===e.status&&"Sedang Diperoses","Accepted"===e.status&&"Diterim","Cancelled"===e.status&&"Ditolak"]})]},s)))})]}),(0,a.jsx)("div",{className:"my-2",children:(null==t?void 0:t.data)&&(0,a.jsx)(N.Z,{activePage:r,innerClass:"join",linkClass:"join-item btn btn-sm hover:text-primary",activeLinkClass:"bg-primary_light text-white",itemsCountPerPage:null==t?void 0:t.per_page,totalItemsCount:null==t?void 0:t.total,pageRangeDisplayed:5,onChange:e=>{c(e),m("?page="+e)}})}),(0,a.jsx)("div",{})]})]})]})},v=()=>{let[e,s]=(0,i.useState)("add");return(0,a.jsxs)("div",{className:'flex w-full shadow-xl rounded-[15px] bg-[url("/images/bg-diskusi.png")] bg-no-repeat bg-cover py-10',children:["daftar"==e&&(0,a.jsx)(w,{setActive:e=>{s(e)}}),"add"==e&&(0,a.jsx)(b,{setActive:e=>{s(e)}})]})},k=t(1396),S=t.n(k),C=t(2410),A=e=>{let{type:s}=e,[t,l]=(0,i.useState)(!1);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"fixed z-20 top-3/4 max-w-[110px] md:max-w-[90px] w-full ".concat("diskusi"===s?"right-0":"right-6"),children:["diskusi"===s?(0,a.jsxs)(S(),{href:"/arsip",className:"flex items-center",children:[(0,a.jsx)(r(),{className:"object-contain mx-auto flex-1",src:"/images/icons/arsip.svg",alt:"Arsip Neraca Ruang",width:40,height:40}),(0,a.jsx)("p",{className:"flex-1 text-primary mb-2",children:"Arsip"})]}):(0,a.jsxs)(S(),{href:"/diskusi",className:"grid grid-cols-2 items-center",children:[(0,a.jsx)(r(),{className:"object-contain mx-auto col-auto w-full",src:"/images/icons/kembali.svg",alt:"Arsip Neraca Ruang",width:40,height:40}),(0,a.jsx)("p",{className:"col-span-1 text-primary mb-2",children:"Kembali"})]}),(0,a.jsxs)("div",{className:"flex cursor-pointer items-center",onClick:()=>{l(!0)},children:[(0,a.jsx)(r(),{className:"object-contain mx-auto flex-1",src:"/images/icons/usul-topik.svg",alt:"Usul Topik Neraca Ruang",width:40,height:40}),(0,a.jsx)("p",{className:"flex-1 text-primary mb-2",children:"Usul"})]})]}),(0,a.jsxs)("div",{className:"".concat(t?"fixed top-0 right-0 left-0 buttom-0 z-[9999]":""),children:[(0,a.jsx)("div",{className:"bg-white w-full fixed top-0 left-0 bottom-0 ".concat(t?"bg-opacity-90":"bg-opacity-0 h-0"," z-[999] transition-all duration-200 ease-in-out"),onClick:()=>{l(!1)}}),t&&(0,a.jsx)("div",{className:"".concat(t?"bg-opacity-90":"bg-opacity-0 h-0"," transition-all duration-200 ease-in-out"),children:(0,a.jsx)("div",{className:"flex justify-center items-center min-h-screen",children:(0,a.jsxs)("div",{className:"fixed mt-0 md:mt-1 z-[99999] w-[90%] md:w-[80%] lg:w-[60%]",children:[(0,a.jsx)("div",{className:"absolute -right-5 -top-7 btn btn-circle bg-gray-100 shadow-md border-gray-200 border-opacity-50",onClick:()=>{l(!1)},children:(0,a.jsx)(C.QAE,{className:"font-bold text-[30px] text-gray-600"})}),(0,a.jsx)(v,{})]})})})]})]})}}}]);