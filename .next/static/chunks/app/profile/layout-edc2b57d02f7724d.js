(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5925],{7865:function(t,e,n){Promise.resolve().then(n.bind(n,7630))},7630:function(t,e,n){"use strict";n.r(e),n.d(e,{AuthProvider:function(){return u},useAuth:function(){return s}});var r=n(7437),a=n(9450),o=n(4033),c=n(2265);let i=(0,c.createContext)(),u=t=>{let{children:e}=t,n=(0,o.useRouter)(),[u,s]=(0,c.useState)(!1),[l,f]=(0,c.useState)(null),d=async()=>{let t=await (0,a.PG)();null===t?n.push("/"):(f(t),s(!0))};return(0,c.useEffect)(()=>{d()},[]),(0,r.jsx)(i.Provider,{value:{userData:l,setData:t=>{f(t)}},children:u&&(0,r.jsx)("div",{children:e})})},s=()=>(0,c.useContext)(i)},6124:function(t,e,n){"use strict";n.d(e,{CY:function(){return i},aX:function(){return o},k0:function(){return c},m3:function(){return a},oP:function(){return u},tq:function(){return s},w2:function(){return l}});var r=n(4759);let a=async t=>{let e=await (0,r.Gz)("/login",t);return e},o=async t=>{let e=await (0,r.Gz)("/register",t);return e},c=async t=>{let e=await (0,r.d1)("/update-profile",t);return e},i=async t=>{let e=await (0,r.J7)("/update-password",t);return e},u=async t=>{let e=await (0,r.Gz)("/forgot-password",t);return e},s=async(t,e)=>{let n=await (0,r.Gz)("/reset-password"+t,e);return n},l=async t=>{let e=await (0,r.sP)("/check-user",t);return e}},9450:function(t,e,n){"use strict";n.d(e,{IK:function(){return c},PG:function(){return i},RD:function(){return l},fM:function(){return s},ko:function(){return o},tH:function(){return u}});var r=n(4759),a=n(6124);let o=async t=>{let e=await (0,a.m3)(t);if(e.status){let t=await u(e.token);if(t)return localStorage.setItem("userData",JSON.stringify({token:e.token,...t})),{token:e.token,...t}}return!1},c=async t=>{let e=await (0,a.aX)(t);if(e.status){let t=await u(e.data.token);if(null!==t)return localStorage.setItem("userData",JSON.stringify({token:e.data.token,...t})),{data:{token:e.data.token,...t},...e}}return e},i=()=>{if("undefined"!=typeof localStorage){let t=localStorage.getItem("userData");if(void 0!==t){let e=JSON.parse(t);if(e)return e}return null}return!1},u=async t=>{let e=await (0,a.w2)(t);return e.status?e.data:null},s=async t=>{let e=await (0,a.CY)(t);return e||null},l=()=>(localStorage.removeItem("userData"),(0,r.JF)())},4759:function(t,e,n){"use strict";n.d(e,{Gz:function(){return i},J7:function(){return s},JF:function(){return p},ak:function(){return f},d1:function(){return l},eO:function(){return c},sP:function(){return u},sU:function(){return d}});let r="https://staging.gerai.neracaruang.com/api",a="https://sso.otonometer.neracaruang.com/",o=()=>{if("undefined"!=typeof localStorage){let e=localStorage.getItem("userData");if(void 0!==e){var t;let n=null!==(t=JSON.parse(e))&&void 0!==t?t:"{}";return n.token}return""}},c=async t=>{try{let e=await fetch("".concat(r).concat(t),{method:"GET"});return e.json()}catch(t){return console.error("Error fetching data:",t),t}},i=async(t,e)=>{try{let n=await fetch("".concat(r).concat(t),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}),a=await n.json();return a}catch(t){return console.log("Error fetching data:",t),t}},u=async function(t){let e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";e=""!==n?n:o();try{let n=await fetch("".concat(r).concat(t),{method:"GET",headers:{Accept:"application/json",Authorization:"Bearer ".concat(e)}}),a=await n.json();return a}catch(t){return console.error("Error fetching data:",t),t}},s=async(t,e)=>{let n=o();try{let a=await fetch("".concat(r).concat(t),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify(e)});return a.json()}catch(t){return console.error("Error fetching data:",t),t}},l=async(t,e)=>{let n=o(),a=new FormData;for(let t in e)if("object"==typeof e[t]){if(e[t]instanceof File)a.append(t,e[t]);else if(null!==e[t])for(let n=0;n<e[t].length;n++)a.append(t,e[t][n])}else a.append(t,e[t]);try{let e=await fetch("".concat(r).concat(t),{method:"POST",headers:{Authorization:"Bearer ".concat(n)},body:a});return e.json()}catch(t){}},f=async()=>{window.location.href="".concat(a,"connect?id=").concat("71")},d=async t=>{try{let e=await fetch("".concat(a,"oauth/token"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}),n=await e.json();return n}catch(e){let t={isError:!0,message:e.message};return t}},p=()=>{window.location.href="".concat(a,"logout")}},622:function(t,e,n){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(2265),a=Symbol.for("react.element"),o=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function s(t,e,n){var r,o={},s=null,l=null;for(r in void 0!==n&&(s=""+n),void 0!==e.key&&(s=""+e.key),void 0!==e.ref&&(l=e.ref),e)c.call(e,r)&&!u.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps)void 0===o[r]&&(o[r]=e[r]);return{$$typeof:a,type:t,key:s,ref:l,props:o,_owner:i.current}}e.Fragment=o,e.jsx=s,e.jsxs=s},7437:function(t,e,n){"use strict";t.exports=n(622)},4033:function(t,e,n){t.exports=n(8165)}},function(t){t.O(0,[2971,4123,1744],function(){return t(t.s=7865)}),_N_E=t.O()}]);