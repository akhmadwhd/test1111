(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5096],{1237:function(t,a,e){Promise.resolve().then(e.bind(e,821))},821:function(t,a,e){"use strict";e.r(a),e.d(a,{default:function(){return c}});var s=e(7437),i=e(2265),n=e(7464),o=e(4033);async function r(t){let a=await fetch(t,{cache:"no-store"});if(!a.ok)throw Error("Failed to fetch data");return a.json()}function c(){let t=(0,o.useSearchParams)(),a=t.get("cari"),e=t.get("tokoh"),c=t.get("topik"),u=t.get("otonomi"),g=t.get("provinsi"),l=t.get("kota"),[p,d]=(0,i.useState)([]),[f,h]=(0,i.useState)(1),[_,w]=(0,i.useState)(!1),[k,m]=(0,i.useState)(!0);async function y(t,a){let e=await r(t);if(e.next_page_url?(w(!0),h(f+1)):(h(1),w(!1)),a){let t=p;d(t=t.concat(e.data.data))}else d(e.data.data)}async function x(){let t="https://staging.gerai.neracaruang.com/api/discussions?page="+f;k&&(t+="&sort_popular=1"),(e||c||u)&&(t+="&with_tags=1",c&&(t+="&tags[]="+c),e&&(t+="&tags[]="+e),u&&(t+="&tags[]="+u)),l&&(t+="&city="+l),g&&(t+="&province="+g),a&&(t+="&keyword="+a),y(t,!0)}async function v(t){let s="https://staging.gerai.neracaruang.com/api/discussions?";m(t),h(1),t&&(s+="&sort_popular=1"),(e||c||u)&&(s+="&with_tags=1",c&&(s+="&tags[]="+c),e&&(s+="&tags[]="+e),u&&(s+="&tags[]="+u)),l&&(s+="&city="+l),g&&(s+="&province="+g),a&&(s+="&keyword="+a),y(s,!1)}return(0,i.useEffect)(()=>{let t="https://staging.gerai.neracaruang.com/api/discussions?sort_popular=1";(e||c||u)&&(t+="&with_tags=1",c&&(t+="&tags[]="+c),e&&(t+="&tags[]="+e),u&&(t+="&tags[]="+u)),l&&(t+="&city="+l),g&&(t+="&province="+g),a&&(t+="&keyword="+a),y(t,!1)},[]),(0,s.jsx)("div",{className:"max-w-5xl text-center mx-auto mt-4",children:(0,s.jsx)("div",{className:"px-4 lg:px-8",children:p.length>0&&(0,s.jsx)(n.default,{initData:p,isGrid:!0,loadMore:x,showPopular:v,forMore:_,type:"diskusi",isRegional:g||l})})})}}},function(t){t.O(0,[2306,6990,2400,1582,1724,5876,6691,4769,6685,451,3402,6324,9675,750,7464,2971,4123,1744],function(){return t(t.s=1237)}),_N_E=t.O()}]);