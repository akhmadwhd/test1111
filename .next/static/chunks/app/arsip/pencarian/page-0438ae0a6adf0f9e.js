(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5698],{956:function(e,t,a){Promise.resolve().then(a.bind(a,7013))},7013:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return u}});var s=a(7437),n=a(2265),r=a(7464),i=a(4033),c=a(962);async function o(e){let t=await fetch(e,{cache:"no-store"});if(!t.ok)throw Error("Failed to fetch data");return t.json()}function u(){let e=(0,i.useSearchParams)(),t=e.get("cari"),[a,u]=(0,n.useState)([]),[l,d]=(0,n.useState)(1),[f,p]=(0,n.useState)(!1);async function h(e,t){let s=await o(e);if(s.data&&s.data.next_page_url?(p(!0),d(l+1)):(d(1),p(!1)),t){let e=a;u(e=e.concat(s.data.data))}else s.data&&u(s.data.data)}async function g(){h("https://staging.gerai.neracaruang.com/api/discussion-archives?title="+t+"&page="+l,!0)}return(0,n.useEffect)(()=>{h("https://staging.gerai.neracaruang.com/api/discussion-archives?title="+t,!1)},[]),(0,s.jsxs)("div",{className:"max-w-5xl text-center mx-auto mt-4",children:[(0,s.jsx)(c.default,{}),(0,s.jsx)("div",{className:"px-4 lg:px-8",children:a.length>0&&(0,s.jsx)(r.default,{initData:a,loadMore:g,isGrid:!0,forMore:f,type:"arsip",noSort:!0})})]})}},962:function(e,t,a){"use strict";a.r(t);var s=a(7437),n=a(6691),r=a.n(n),i=a(2265),c=a(4033);t.default=e=>{let{}=e,t=(0,c.usePathname)(),a=(0,c.useRouter)(),n=(0,c.useSearchParams)(),o=n.get("cari"),[u,l]=(0,i.useState)("");function d(){let e=t.split("/"),s="/";"pencarian"===e[1]?s+=e[1]+"/?":s+=e[1]+"/pencarian?",s+="cari="+u,a.push(s)}return(0,i.useEffect)(()=>{l(o)},[]),(0,s.jsxs)("div",{className:"relative p-4 mx-4 rounded-full bg-[#F5F5F5] pl-10 pr-3 py-1 shadow-search px-5 focus:outline-none font-normal text-xs italic leading-[14px] text-black",children:[(0,s.jsx)(r(),{className:"absolute left-3 top-3 cursor-pointer duration-500 hover:scale-125",width:20,height:20,src:"/images/icons/search.png",alt:"",onClick:()=>d()}),(0,s.jsx)("input",{type:"text",className:"w-full h-8 bg-[#F5F5F5]",placeholder:o||"Topik Diskusi / Moderator",onKeyUp:e=>{13===e.keyCode&&d()},onChange:e=>l(e.target.value)})]})}}},function(e){e.O(0,[2306,6990,2400,1582,1724,5876,6691,4769,6685,451,3402,6324,9675,750,7464,2971,4123,1744],function(){return e(e.s=956)}),_N_E=e.O()}]);