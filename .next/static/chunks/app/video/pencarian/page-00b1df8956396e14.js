(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3119],{9753:function(t,e,a){Promise.resolve().then(a.bind(a,223))},223:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return r}});var n=a(7437),o=a(2265),s=a(7464),i=a(4033);async function c(t){let e=await fetch(t,{cache:"no-store"});if(!e.ok)throw Error("Failed to fetch data");return e.json()}function r(){let t=(0,i.useSearchParams)(),e=t.get("cari"),a=t.get("tokoh"),r=t.get("topik"),g=t.get("otonomi"),u=t.get("provinsi"),l=t.get("kota"),[p,f]=(0,o.useState)([]),[d,h]=(0,o.useState)(1),[y,_]=(0,o.useState)(!1),[w,m]=(0,o.useState)(!0),[v,k]=(0,o.useState)("");async function x(t,e){let a=await c(t);if(a.contents&&a.contents.next_page_url?(_(!0),h(d+1)):(h(1),_(!1)),e){let t=p;f(t=t.concat(a.contents.data))}else(l||u)&&k(a.location.image),a.contents&&f(a.contents.data)}async function S(){let t="https://staging.gerai.neracaruang.com/api/content?type=video&page="+d;w&&(t+="&sort_popular=1"),(a||r||g)&&(t+="&with_tags=1",r&&(t+="&tags[]="+r),a&&(t+="&tags[]="+a),g&&(t+="&tags[]="+g)),l&&(t+="&city="+l),u&&(t+="&province="+u),e&&(t+="&keyword="+e),x(t,!0)}async function E(t){let n="https://staging.gerai.neracaruang.com/api/content?type=video";m(t),h(1),t&&(n+="&sort_popular=1"),(a||r||g)&&(n+="&with_tags=1",r&&(n+="&tags[]="+r),a&&(n+="&tags[]="+a),g&&(n+="&tags[]="+g)),l&&(n+="&city="+l),u&&(n+="&province="+u),e&&(n+="&keyword="+e),x(n,!1)}return(0,o.useEffect)(()=>{let t="https://staging.gerai.neracaruang.com/api/content?type=video&sort_popular=1";(a||r||g)&&(t+="&with_tags=1",r&&(t+="&tags[]="+r),a&&(t+="&tags[]="+a),g&&(t+="&tags[]="+g)),l&&(t+="&city="+l),u&&(t+="&province="+u),e&&(t+="&keyword="+e),x(t,!1)},[]),(0,n.jsx)("div",{className:"max-w-5xl text-center mx-auto mt-4",children:(0,n.jsx)("div",{className:"px-4 lg:px-8",children:p.length>0&&(0,n.jsx)(s.default,{initData:p,type:"video",loadMore:S,showPopular:E,forMore:y,isRegional:u||l,location:v})})})}}},function(t){t.O(0,[2306,6990,2400,1582,1724,5876,6691,4769,6685,451,3402,6324,9675,750,7464,2971,4123,1744],function(){return t(t.s=9753)}),_N_E=t.O()}]);