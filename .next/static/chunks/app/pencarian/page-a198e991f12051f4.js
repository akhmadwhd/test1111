(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9498],{3728:function(e,a,s){Promise.resolve().then(s.bind(s,7021))},7021:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return d}});var t=s(7437),i=s(2265),n=s(4033),o=s(895),l=s(7464),c=s(485);async function r(e){let a=await fetch(e,{cache:"no-store"});if(!a.ok)throw Error("Failed to fetch data");return a.json()}function d(){let e=(0,n.useSearchParams)(),a=(0,n.useRouter)(),s=e.get("cari"),d=e.get("tokoh"),m=e.get("topik"),u=e.get("otonomi"),g=e.get("provinsi"),p=e.get("kota"),[x,h]=(0,i.useState)([]),[f,j]=(0,i.useState)(s||""),[y,k]=(0,i.useState)(),[N,w]=(0,i.useState)(""),[v,b]=(0,i.useState)([]),_=(0,n.usePathname)();async function S(e,a){let s=await r(e);if(console.log(s),a){let e=y;k(e=e.concat(s.contents.data))}else(p||g)&&w(s.location.image),b(s.diskusi),k(s.contents)}(0,i.useEffect)(()=>{R()},[s,d,m,u,g,p]);let R=()=>{let e=[];if(d){let a={key:"tokoh",title:d.split("-").join(" "),slug:d};e.push(a)}if(m){let a={key:"topik",title:m.split("-").join(" "),slug:m};e.push(a)}if(u){let a={key:"otonomi",title:u.split("-").join(" "),slug:u};e.push(a)}h(e);let a="https://staging.gerai.neracaruang.com/api/content?&sort_popular=1";(d||m||u)&&(a+="&with_tags=1",m&&(a+="&tags[]="+m),d&&(a+="&tags[]="+d),u&&(a+="&tags[]="+u)),p&&(a+="&city="+p),g&&(a+="&province="+g),s&&(a+="&keyword="+s),console.log(a),S(a,!1)},C=e=>{let s=window.location.href,t=s.split("/pencarian"),i="/";t[1].includes("&provinsi=")&&(t[1].includes("&kota=")?i+="kota/"+p+"/"+e:i+="provinsi/"+g+"/"+e),a.push(i)},I=e=>{let s=x.filter(a=>e.key!==a.key);h(s);let t="/pencarian?";s.forEach(e=>{"cari"===e.key&&(t+="cari="+e.slug),"tokoh"===e.key&&(t+="&tokoh="+e.slug),"topik"===e.key&&(t+="&topik="+e.slug),"otonomi"===e.key&&(t+="&otonomi="+e.slug)}),f&&(t+="&cari="+f),a.push(t)};return(0,t.jsxs)("div",{className:"w-full md:w-fit text-center mx-auto mt-4 max-w-screen-lg",children:[g||p?(0,t.jsx)("div",{className:"py-5",children:N&&(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(c.default,{src:"https://staging.gerai.neracaruang.com/"+N,className:"mx-auto",dummy:"/images/dummy/default-location.webp",width:240,height:58})})}):"",(0,t.jsx)("div",{className:"px-4 lg:px-8 md:px-0",children:(0,t.jsxs)("div",{className:"border-2 p-2 flex flex-col lg:flex-row gap-2 rounded-xl w-full shadow-[inset_0_2px_4px_rgba(0,0,0,0.6)]",children:[(0,t.jsx)("div",{className:"flex flex-col md:flex-row gap-2 items-start md:items-center justify-center ",children:x.map((e,a)=>(0,t.jsxs)("div",{className:"inline-flex items-center w-max justify-between space-x-1 text-white pl-4 pr-3 py-2 rounded-2xl font-semibold shadow-[inset_0_2px_4px_rgba(0,0,0,0.6)] ".concat(g||p?"bg-secondary":"bg-primary"),children:[(0,t.jsx)("div",{className:"select-none capitalize",children:e.title}),(0,t.jsx)("svg",{onClick:()=>I(e),className:"cursor-pointer h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M6 18L18 6M6 6l12 12"})})]},"keyword"+a))}),(0,t.jsx)("input",{onChange:e=>j(e.target.value),onKeyUp:e=>{13===e.keyCode&&function(){let e=_.split("/"),t="/",i=window.location.href,n=i.split("/pencarian");if("pencarian"===e[1]?t+=e[1]+"/":t+=e[1]+"/pencarian",f!==s){let e=n[1].split("&cari=");f?t+=e[0]+"&cari="+f:t+=e[0]}else t+=n[1];a.push(t)}()},className:"w-full focus-visible:border-none",value:f})]})}),y&&y.kabar.length>0&&(0,t.jsxs)("section",{className:"border-2 rounded-2xl px-2 md:px-12 py-4 mt-8 shadow-md relative",children:[(0,t.jsxs)("div",{className:"cursor-pointer",onClick:()=>C("kabar"),children:[(0,t.jsx)(c.default,{src:g||p?"/images/icons/kabar_regional.png":"/images/icons/kabar.png",className:"object-contain mx-auto",alt:"Kabar Neraca Ruang",dummy:"/images/icons/kabar.png",width:40,height:40}),(0,t.jsx)("p",{className:"font-semibold text-center text-clamp ".concat(g||p?"text-secondary":"text-primary"),children:"KABAR"})]}),(0,t.jsx)("div",{className:"my-4",children:(0,t.jsx)(o.SearchSlider,{data:y.kabar,redirectTo:C,isRegional:g||p,type:"kabar"})})]}),y&&y.jurnal.length>0&&(0,t.jsxs)("section",{className:"border-2 rounded-2xl px-2 md:px-12 py-4 mt-12 shadow-md relative",children:[(0,t.jsxs)("div",{className:"cursor-pointer",onClick:()=>C("jurnal"),children:[(0,t.jsx)(c.default,{src:g||p?"/images/icons/jurnal_regional.png":"/images/icons/jurnal.png",className:"object-contain mx-auto",alt:"Jurnal Neraca Ruang",dummy:"/images/icons/jurnal.png",width:40,height:40}),(0,t.jsx)("p",{className:"font-semibold text-center text-clamp ".concat(g||p?"text-secondary":"text-primary"),children:"JURNAL"})]}),(0,t.jsx)("div",{className:"my-4",children:(0,t.jsx)(o.SearchSlider,{data:null==y?void 0:y.jurnal,redirectTo:C,isRegional:g||p,type:"jurnal"})})]}),y&&y.info_grafis.length>0&&(0,t.jsxs)("section",{className:"mt-12",children:[(0,t.jsxs)("div",{className:"cursor-pointer",onClick:()=>C("info-grafis"),children:[(0,t.jsx)(c.default,{src:g||p?"/images/icons/infografis_regional.png":"/images/icons/infografis.png",className:"object-contain mx-auto",alt:"Infografis Neraca Ruang",dummy:"/images/icons/infografis.png",width:40,height:40}),(0,t.jsx)("p",{className:"font-semibold text-center text-clamp ".concat(g||p?"text-secondary":"text-primary"),children:"INFOGRAFIS"})]}),(0,t.jsx)("div",{className:"my-4",children:(0,t.jsx)(o.SearchInfografisSlider,{data:null==y?void 0:y.info_grafis,redirectTo:C,isRegional:g||p,type:"searchInfografis",shadow:!0,noTag:!0,noComment:!0,fullSize:!0})})]}),y&&y.video.length>0&&(0,t.jsxs)("section",{className:"mt-12",children:[(0,t.jsxs)("div",{className:"cursor-pointer",onClick:()=>C("video"),children:[(0,t.jsx)(c.default,{src:g||p?"/images/icons/video_regional.png":"/images/icons/video.png",className:"object-contain mx-auto",alt:"Video Neraca Ruang",dummy:"/images/icons/video.png",width:40,height:40}),(0,t.jsx)("p",{className:"font-semibold text-center text-clamp ".concat(g||p?"text-secondary":"text-primary"),children:"VIDEO"})]}),(0,t.jsx)("div",{className:"my-4",children:(0,t.jsx)(o.SearchInfografisSlider,{data:null==y?void 0:y.video,redirectTo:C,isRegional:g||p,type:"searchVideo",shadow:!0,isGrid:!1,fullSize:!0})})]}),y&&y.album_foto.length>0&&(0,t.jsxs)("section",{className:"border-2 rounded-2xl px-2 md:px-12 py-4 mt-12 shadow-md relative",children:[(0,t.jsxs)("div",{className:"cursor-pointer",onClick:()=>C("album"),children:[(0,t.jsx)(c.default,{src:g||p?"/images/icons/foto_regional.png":"/images/icons/foto.png",className:"object-contain mx-auto",alt:"Album Foto Neraca Ruang",dummy:"/images/icons/foto.png",width:40,height:40}),(0,t.jsx)("p",{className:"font-semibold text-center text-clamp ".concat(g||p?"text-secondary":"text-primary"),children:"ALBUM FOTO"})]}),(0,t.jsx)("div",{className:"my-4",children:(0,t.jsx)(o.SearchSlider,{data:null==y?void 0:y.album_foto,redirectTo:C,isRegional:g||p,type:"album"})})]}),v&&v.length>0&&(0,t.jsxs)("section",{className:"px-4 my-8 md:px-0",children:[(0,t.jsxs)("div",{className:"cursor-pointer",onClick:()=>C("diskusi"),children:[(0,t.jsx)(c.default,{src:"/images/icons/diskusi.png",className:"object-contain mx-auto",alt:"Diskusi Neraca Ruang",dummy:"/images/icons/diskusi.png",width:40,height:40}),(0,t.jsx)("p",{className:"font-semibold text-center text-primary text-clamp",children:"DISKUSI"})]}),(0,t.jsx)("div",{className:"max-w-5xl text-center mx-auto gap-4 space-y-4",children:(0,t.jsx)(l.default,{initData:v,forMore:!1,type:"diskusi",isGrid:!0,noSort:!0})})]})]})}}},function(e){e.O(0,[2306,6990,2400,1582,1724,5876,6691,4769,6685,451,3402,6324,9675,750,7464,895,2971,4123,1744],function(){return e(e.s=3728)}),_N_E=e.O()}]);