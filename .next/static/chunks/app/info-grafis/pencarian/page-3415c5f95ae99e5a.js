(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8152],{120:function(t,e,a){Promise.resolve().then(a.bind(a,1517))},1517:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return c}});var n=a(7437),o=a(2265),s=a(7464),i=a(4033);async function r(t){let e=await fetch(t,{cache:"no-store"});if(!e.ok)throw Error("Failed to fetch data");return e.json()}function c(){let t=(0,i.useSearchParams)(),e=t.get("cari"),a=t.get("tokoh"),c=t.get("topik"),g=t.get("otonomi"),u=t.get("provinsi"),l=t.get("kota"),[f,p]=(0,o.useState)(""),[h,d]=(0,o.useState)([]),[y,_]=(0,o.useState)(1),[w,m]=(0,o.useState)(!1),[k,x]=(0,o.useState)(!0);async function v(t,e){let a=await r(t);if(a.contents&&a.contents.next_page_url?(m(!0),_(y+1)):(_(1),m(!1)),e){let t=h;d(t=t.concat(a.contents.data))}else(l||u)&&p(a.location.image),a.contents&&d(a.contents.data)}async function S(){let t="https://staging.gerai.neracaruang.com/api/content?type=info-grafis&page="+y;k&&(t+="&sort_popular=1"),(a||c||g)&&(t+="&with_tags=1",c&&(t+="&tags[]="+c),a&&(t+="&tags[]="+a),g&&(t+="&tags[]="+g)),l&&(t+="&city="+l),u&&(t+="&province="+u),e&&(t+="&keyword="+e),v(t,!0)}async function E(t){let n="https://staging.gerai.neracaruang.com/api/content?type=info-grafis";x(t),_(1),t&&(n+="&sort_popular=1"),(a||c||g)&&(n+="&with_tags=1",c&&(n+="&tags[]="+c),a&&(n+="&tags[]="+a),g&&(n+="&tags[]="+g)),l&&(n+="&city="+l),u&&(n+="&province="+u),e&&(n+="&keyword="+e),v(n,!1)}return(0,o.useEffect)(()=>{let t="https://staging.gerai.neracaruang.com/api/content?type=info-grafis&sort_popular=1";(a||c||g)&&(t+="&with_tags=1",c&&(t+="&tags[]="+c),a&&(t+="&tags[]="+a),g&&(t+="&tags[]="+g)),l&&(t+="&city="+l),u&&(t+="&province="+u),e&&(t+="&keyword="+e),v(t,!1)},[]),(0,n.jsx)("div",{className:"max-w-5xl text-center mx-auto mt-4",children:(0,n.jsx)("div",{className:"px-4 lg:px-8",children:h.length>0&&(0,n.jsx)(s.default,{initData:h,type:"info-grafis",loadMore:S,showPopular:E,forMore:w,isRegional:u||l,location:f})})})}}},function(t){t.O(0,[2306,6990,2400,1582,1724,5876,6691,4769,6685,451,3402,6324,9675,750,7464,2971,4123,1744],function(){return t(t.s=120)}),_N_E=t.O()}]);