"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6324],{3305:function(e,t,a){a.d(t,{Z:function(){return x}});var r=a(7437),n=a(2265),o=a(2067),l=a.n(o),c=a(6691),i=a.n(c),s=a(2218),u=a.n(s);a(3159);var d=a(4759);let p=async()=>{let e=await (0,d.eO)("/provinces");return e},h=async e=>{let t=await (0,d.eO)("/cities/"+e);return t},f=async()=>{let e=await p();return e.success?e.data:null},y=async e=>{let t=await h(e);return t.success?t.data:null};var m=a(2510),x=e=>{var t,a;let{type:o,placeholder:c,className:s,setValue:d,valueKab:p,selectProv:h,selectKab:x,register:w,dateValue:b,disableBtn:g}=e,[v,_]=(0,n.useState)(null),[j,N]=(0,n.useState)(!1),[k,S]=(0,n.useState)(null),[C,D]=(0,n.useState)(null),[O,P]=(0,n.useState)(!1),[z,J]=(0,n.useState)(null),[T,E]=(0,n.useState)(null),[A,G]=(0,n.useState)(null),[M,I]=(0,n.useState)(!1),[F,Y]=(0,n.useState)(null),L=(e,t,a)=>{let r=e.filter(e=>e[t].toLowerCase().includes(a.toLowerCase()));"province_name"==t&&(""==a?S(e):S(r)),"city_name"==t&&(""==a?E(e):E(r))},U=async()=>{let e=await f();e&&(S(e),D(e))};function B(e){let t=e.toLowerCase();return t.charAt(0).toUpperCase()+t.slice(1)}let H=async e=>{if(e){let t=await y(e);null!==t&&(E(t),G(t))}};switch((0,n.useEffect)(()=>{"select-province"===o&&U(),h&&J(h),x&&Y(x),p&&I(!1),"date_test"===o&&w.value&&_(w.value)},[o,p]),o){case"submit":return(0,r.jsx)("div",{children:(0,r.jsx)("input",{type:"submit",className:"btn-primary hover:shadow-[0px_4px_4px_0px_rgba(0,_0,_0,_0.25)] hover:bg-primary_light bg-primary rounded-full text-white text-sm leading-[12px] font-semibold py-3 px-5 cursor-pointer",value:c,disabled:null!=g&&g})});case"date_test":return(0,r.jsxs)("div",{className:"w-full relative flex items-center",children:[(0,r.jsx)(u(),{className:"w-full py-1 bg-white focus:shadow-[0px_4px_4px_0px_rgba(0,_0,_0,_0.25)] border-[3px] border-primary rounded-full px-5 text-primary font-normal placeholder:text-primary placeholder:text-opacity-50 focus:outline-none ".concat(s),selected:v,onChange:e=>{_(e),b(l()(e).format("yyyy-MM-DD"))},dateFormat:"dd-MM-yyyy",showYearDropdown:!0,scrollableYearDropdown:!0,showMonthDropdown:!0,scrollableMonthYearDropdown:!0,dropdownMode:"select",placeholderText:"Tanggal Lahir",name:w.name}),(0,r.jsx)("div",{className:"absolute right-5",children:(0,r.jsx)(i(),{src:"/icons/datepickerIcon.png",width:15,height:16,alt:"icon datepicker"})})]});case"date":default:return(0,r.jsx)("div",{className:"w-full",children:(0,r.jsx)("input",{type:o,className:"w-full py-1 bg-white focus:shadow-[0px_4px_4px_0px_rgba(0,_0,_0,_0.25)] border-[3px] border-primary rounded-full px-5 text-primary font-normal placeholder:text-primary placeholder:text-opacity-50 focus:outline-none ".concat(s),placeholder:c,...w})});case"select-province":return(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("div",{type:"text",className:"flex justify-between items-center capitalize w-full py-1 cursor-pointer bg-white focus:shadow-[0px_4px_4px_0px_rgba(0,_0,_0,_0.25)] border-[3px] border-primary rounded-full px-5 text-primary font-normal placeholder:text-primary placeholder:text-opacity-50 focus:outline-none ".concat(s),onClick:()=>{P(!O)},children:[null!==(t=null==z?void 0:z.province_name)&&void 0!==t?t:c,(0,r.jsx)("div",{className:"absolute right-3",children:O?(0,r.jsx)(m.$Pg,{className:"text-base text-primary"}):(0,r.jsx)(m.iUH,{className:"text-base text-primary"})})]}),(0,r.jsxs)("div",{className:"z-[999] absolute mt-1 py-1 bg-white w-full shadow-md rounded-md border border-slate-500 border-opacity-40 ".concat(!1===O?"hidden":"block"),children:[(0,r.jsx)("div",{className:"relative",children:(0,r.jsx)("input",{type:"text",className:"w-full focus:outline-none px-2 border-b border-tertiary_dark border-opacity-50 shadow-md pb-1 text-sm text-primary placeholder:text-primary placeholder:text-opacity-50",placeholder:"Cari Provinsi",onChange:e=>{L(C,"province_name",e.target.value)}})}),(0,r.jsx)("ul",{className:"overflow-y-auto  h-32",children:null!=k&&k.map((e,t)=>(0,r.jsx)("li",{className:"text-black text-base capitalize cursor-pointer px-2 py-1 hover:bg-primary_light hover:text-white",onClick:()=>{d(e.slug),J({id:e.slug,province_name:e.province_name}),P(!1)},children:B(e.province_name)},t))})]})]});case"select-kab":return(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("div",{type:"text",className:"flex justify-between items-center w-full py-1 cursor-pointer bg-white focus:shadow-[0px_4px_4px_0px_rgba(0,_0,_0,_0.25)] border-[3px] border-primary rounded-full px-5 text-primary font-normal placeholder:text-primary placeholder:text-opacity-50 focus:outline-none ".concat(s),onClick:()=>{I(!M),H(p)},children:[null!==(a=null==F?void 0:F.city_name)&&void 0!==a?a:c,(0,r.jsx)("div",{className:"absolute right-3",children:M?(0,r.jsx)(m.$Pg,{className:"text-base text-primary"}):(0,r.jsx)(m.iUH,{className:"text-base text-primary"})})]}),(0,r.jsxs)("div",{className:"absolute mt-1 py-1 bg-white w-full shadow-md rounded-md border border-slate-500 border-opacity-40 ".concat(!1===M?"hidden":"block"),children:[(0,r.jsx)("div",{className:"relative",children:(0,r.jsx)("input",{type:"text",className:"w-full focus:outline-none px-2 border-b border-tertiary_dark border-opacity-50 shadow-md pb-1 text-sm text-primary placeholder:text-primary placeholder:text-opacity-50",placeholder:"Cari Kabupaten",onChange:e=>{L(A,"city_name",e.target.value),e.preventDefault()}})}),(0,r.jsx)("ul",{className:"overflow-y-auto h-32 ",children:T?T.map((e,t)=>(0,r.jsx)("li",{className:"text-black text-base cursor-pointer px-2 py-1 hover:bg-primary_light hover:text-white",onClick:()=>{d(e.id),Y({id:e.id,city_name:e.city_name}),I(!1)},children:B(e.city_name)},t)):(0,r.jsx)("li",{className:"px-2 text-sm",children:"Please select province first"})})]})]})}}},6124:function(e,t,a){a.d(t,{CY:function(){return c},aX:function(){return o},k0:function(){return l},m3:function(){return n},oP:function(){return i},tq:function(){return s},w2:function(){return u}});var r=a(4759);let n=async e=>{let t=await (0,r.Gz)("/login",e);return t},o=async e=>{let t=await (0,r.Gz)("/register",e);return t},l=async e=>{let t=await (0,r.d1)("/update-profile",e);return t},c=async e=>{let t=await (0,r.J7)("/update-password",e);return t},i=async e=>{let t=await (0,r.Gz)("/forgot-password",e);return t},s=async(e,t)=>{let a=await (0,r.Gz)("/reset-password"+e,t);return a},u=async e=>{let t=await (0,r.sP)("/check-user",e);return t}},9450:function(e,t,a){a.d(t,{IK:function(){return l},PG:function(){return c},RD:function(){return u},fM:function(){return s},ko:function(){return o},tH:function(){return i}});var r=a(4759),n=a(6124);let o=async e=>{let t=await (0,n.m3)(e);if(t.status){let e=await i(t.token);if(e)return localStorage.setItem("userData",JSON.stringify({token:t.token,...e})),{token:t.token,...e}}return!1},l=async e=>{let t=await (0,n.aX)(e);if(t.status){let e=await i(t.data.token);if(null!==e)return localStorage.setItem("userData",JSON.stringify({token:t.data.token,...e})),{data:{token:t.data.token,...e},...t}}return t},c=()=>{if("undefined"!=typeof localStorage){let e=localStorage.getItem("userData");if(void 0!==e){let t=JSON.parse(e);if(t)return t}return null}return!1},i=async e=>{let t=await (0,n.w2)(e);return t.status?t.data:null},s=async e=>{let t=await (0,n.CY)(e);return t||null},u=()=>(localStorage.removeItem("userData"),(0,r.JF)())},4759:function(e,t,a){a.d(t,{Gz:function(){return c},J7:function(){return s},JF:function(){return h},ak:function(){return d},d1:function(){return u},eO:function(){return l},sP:function(){return i},sU:function(){return p}});let r="https://staging.gerai.neracaruang.com/api",n="https://sso.otonometer.neracaruang.com/",o=()=>{if("undefined"!=typeof localStorage){let t=localStorage.getItem("userData");if(void 0!==t){var e;let a=null!==(e=JSON.parse(t))&&void 0!==e?e:"{}";return a.token}return""}},l=async e=>{try{let t=await fetch("".concat(r).concat(e),{method:"GET"});return t.json()}catch(e){return console.error("Error fetching data:",e),e}},c=async(e,t)=>{try{let a=await fetch("".concat(r).concat(e),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}),n=await a.json();return n}catch(e){return console.log("Error fetching data:",e),e}},i=async function(e){let t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t=""!==a?a:o();try{let a=await fetch("".concat(r).concat(e),{method:"GET",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t)}}),n=await a.json();return n}catch(e){return console.error("Error fetching data:",e),e}},s=async(e,t)=>{let a=o();try{let n=await fetch("".concat(r).concat(e),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify(t)});return n.json()}catch(e){return console.error("Error fetching data:",e),e}},u=async(e,t)=>{let a=o(),n=new FormData;for(let e in t)if("object"==typeof t[e]){if(t[e]instanceof File)n.append(e,t[e]);else if(null!==t[e])for(let a=0;a<t[e].length;a++)n.append(e,t[e][a])}else n.append(e,t[e]);try{let t=await fetch("".concat(r).concat(e),{method:"POST",headers:{Authorization:"Bearer ".concat(a)},body:n});return t.json()}catch(e){}},d=async()=>{window.location.href="".concat(n,"connect?id=").concat("71")},p=async e=>{try{let t=await fetch("".concat(n,"oauth/token"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}),a=await t.json();return a}catch(t){let e={isError:!0,message:t.message};return e}},h=()=>{window.location.href="".concat(n,"logout")}}}]);